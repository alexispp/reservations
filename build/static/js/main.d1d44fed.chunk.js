(this.webpackJsonpreservations=this.webpackJsonpreservations||[]).push([[0],{261:function(e,t,n){},262:function(e,t,n){},267:function(e,t,n){},291:function(e,t,n){},295:function(e,t){},297:function(e,t){},310:function(e,t){},312:function(e,t){},340:function(e,t){},341:function(e,t){},346:function(e,t){},348:function(e,t){},355:function(e,t){},374:function(e,t){},404:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),s=(n(261),n(262),n(90)),i=n(20),l=n(9),u=n.n(l),d=n(16),j=n(22),b=n(80),p=n.n(b),f=n(52),O=n(464),h=n(434),m=n(435),x=n(465),v=n(438),g=n(439),S=n(445),C=n(446),y=n(463),k=n(441),N=n(442),w=n(447),E=n(448),I=n(405),T=n(449),U=n(450),A=n(451),_=n(150),P=n(452),R=n(453),F=n(454),B=n(455),L=n(462),H=n(225),K=n(30),D=n(457),M=n(117),G=n(231),z=n.n(G),Y=(n(267),n(5)),W=n(92),J=n.n(W),Q=J.a.create({baseURL:"https://pl-reservations-ceremony.herokuapp.com/ceremony/",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}),V=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.get("/ceremony");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.post("/ceremony",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.get("/ceremony/lastCeremony");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("/ceremony/".concat(t,"/availableTimes")),e.next=4,Q.get("/ceremony/".concat(t,"/availableTimes"));case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.post("/reservation/getAllByCeremony",{ceremonyId:t});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0.response),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.post("/reservation",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0.response),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),te="SIGN_IN_REQUEST",ne="SIGN_IN_SUCCESS",ae="SIGN_IN_FAILURE",re="SIGN_UP_REQUEST",ce="SIGN_UP_SUCCESS",oe="SIGN_UP_FAILURE",se="SIGN_OUT_REQUEST",ie="SIGN_OUT_SUCCESS",le="SIGN_OUT_FAILURE",ue=function(){return{type:te}},de=function(e){return{type:ne,payload:{token:e}}},je=function(e){return function(t){t({type:se}),localStorage.clear(),e.push("/"),localStorage.getItem("USER_TOKEN")?t({type:le}):t({type:ie})}},be=n(4),pe=function(e){var t=e.open,n=e.handleClose,a=["09:00 HS","11:00 HS","15:00 HS","17:00 HS","19:00 HS"];return Object(be.jsxs)(O.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(be.jsx)(h.a,{id:"form-dialog-title",children:"Nueva Ceremonia"}),Object(be.jsx)(M.c,{initialValues:{name:"",date:null,numberOfAssistants:"",timeOptions:[]},onSubmit:function(e,t){q(e),n()},children:function(e){return Object(be.jsxs)(m.a,{children:[Object(be.jsx)(m.a,{children:Object(be.jsxs)(M.b,{className:"Form",children:[Object(be.jsx)(x.a,{id:"name",name:"name",label:"Ceremonia",value:e.values.name,onChange:e.handleChange,fullWidth:!0}),Object(be.jsx)(K.a,{utils:H.a,children:Object(be.jsx)(D.a,{id:"date",name:"date",label:"Fecha",format:"DD/MM/YYYY",value:e.values.date,onChange:function(t){return e.setFieldValue("date",t)},clearable:!0,autoOk:!0,disablePast:!0,disableToolbar:!0})}),Object(be.jsx)(x.a,{id:"numberOfAssistants",label:"Asistentes",type:"number",value:e.values.numberOfAssistants,onChange:e.handleChange,error:e.touched.email&&Boolean(e.errors.email),helperText:e.touched.email&&e.errors.email}),Object(be.jsx)(M.a,{name:"timeOptions",render:function(t){return Object(be.jsxs)(v.a,{component:"fieldset",children:[Object(be.jsx)(g.a,{component:"legend",children:e.label}),Object(be.jsx)(S.a,{className:"CheckBoxes",children:a.map((function(n){return Object(be.jsx)(C.a,{control:Object(be.jsx)(y.a,{name:n,color:"secondary",onChange:function(a){a.target.checked?t.push(n):t.remove(t.form.values[e.name].reduce((function(e,t,a){return t===n&&(e=a),e}),0))}}),labelPlacement:"end",label:n},n)}))})]})}})]})}),Object(be.jsxs)(k.a,{children:[Object(be.jsx)(N.a,{onClick:n,color:"primary",children:"Cancelar"}),Object(be.jsx)(N.a,{color:"primary",type:"submit",onClick:e.submitForm,children:"Aceptar"})]})]})}})]})},fe=function(){var e=Object(f.b)(),t=Object(i.g)(),n=Object(a.useState)(0),r=Object(j.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(5),l=Object(j.a)(s,2),b=l[0],O=l[1],h=Object(a.useState)(!1),m=Object(j.a)(h,2),x=m[0],v=m[1],g=Object(a.useState)([]),S=Object(j.a)(g,2),C=S[0],y=S[1],k=Object(a.useState)([]),N=Object(j.a)(k,2),H=N[0],K=N[1],D=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),[]),M=Object(a.useCallback)(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:t=e.sent,y(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]);var G=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:n=e.sent,K(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(Y.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(w.a),J=Object(Y.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(E.a);return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)("div",{className:"AdminHeader",children:Object(be.jsxs)("div",{className:"AdminHeaderPanel",children:[Object(be.jsx)("span",{children:"Ceremonias PL - Panel de Administraci\xf3n"}),Object(be.jsx)("div",{children:Object(be.jsx)("span",{onClick:function(){e(je(t))},children:"Cerrar Sesi\xf3n"})})]})}),Object(be.jsxs)("div",{className:"AdminBody",children:[Object(be.jsxs)(I.a,{className:"Paper CeremoniesPaper",children:[Object(be.jsx)(T.a,{className:"Fab",color:"inherit","aria-label":"add",onClick:function(){return v(!0)},children:Object(be.jsx)(z.a,{})}),Object(be.jsx)("div",{className:"CeremoniesGridListRoot",children:C&&Object(be.jsx)(U.a,{className:"CeremoniesGridList",children:C.map((function(e,t){return Object(be.jsx)(A.a,{children:Object(be.jsx)(I.a,{className:"PaperCeremony",onClick:function(){G(e.id)},children:Object(be.jsxs)("div",{className:"PaperCeremonyData",children:[Object(be.jsx)(_.a,{variant:"h5",children:e.name}),Object(be.jsx)(_.a,{variant:"h6",children:p()(e.date).format("DD/MM/YYYY")}),Object(be.jsxs)("div",{children:["Cantidad de Asistentes:"," ",e.numberOfAssistants]}),Object(be.jsxs)("div",{children:["Horarios:"," ",JSON.stringify(e.timeOptions).replaceAll('"',"").replaceAll("\\","").replace("[","").replace("]","")]})]})})},t)}))})})]}),Object(be.jsxs)(I.a,{className:"Paper TablePaper",children:[Object(be.jsx)(P.a,{component:I.a,children:Object(be.jsxs)(R.a,{stickyHeader:!0,"aria-label":"sticky table",className:"ReservationsTable",children:[Object(be.jsx)(F.a,{children:Object(be.jsxs)(E.a,{children:[Object(be.jsx)(W,{children:"Nombre"}),Object(be.jsx)(W,{align:"right",children:"Horario"})]})}),Object(be.jsx)(B.a,{children:H&&(b>0?H.slice(c*b,c*b+b):H).map((function(e){return Object(be.jsxs)(J,{children:[Object(be.jsx)(W,{component:"th",scope:"row",children:e.name}),Object(be.jsx)(W,{align:"right",children:e.time})]},e.id)}))})]})}),Object(be.jsx)(L.a,{rowsPerPageOptions:[5,10,25],component:"div",count:H?H.length:0,rowsPerPage:b,page:c,onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),o(0)}})]})]}),Object(be.jsx)("div",{className:"AdminFooter"}),Object(be.jsx)(pe,{open:x,handleClose:function(){v(!1)}})]})},Oe=n(33),he=n(459),me=n(456),xe=n(467),ve=n(461),ge=(n(291),Object(Y.a)((function(e){return{root:{color:"#ffff",border:"1px solid #ffff","&:hover":{backgroundColor:"#f1f1f1",color:"#000"},paddingBlock:30,paddingInline:60,margin:30,fontSize:26,fontWeight:600,backdropFilter:"blur(2px)",backgroundColor:"rgba(255, 255, 255, 0.2)","@media (max-width: 850px)":{paddingBlock:15,paddingInline:30,margin:15,width:"100%"}}}}))(N.a)),Se=Object(Y.a)({root:{width:"90%","& label":{color:"#fff",fontSize:26,transform:"translate(12px, 29px) scale(1)"},"& .MuiFilledInput-root":{backgroundColor:"rgb(0, 0, 0, 0.3)"},"& .MuiFilledInput-underline:after":{borderBottom:"2px solid #66ccff"},"& .MuiInputBase-input":{color:"#fff",fontSize:32},"& label.Mui-focused":{color:"#fff",fontSize:20},"& label.MuiInputLabel-filled":{color:"#fff",fontSize:20},"& .MuiInput-underline:after":{borderBottomColor:"#fff"},"& .MuiFilledInput-underline:before":{borderBottom:"1px solid white"},"& .MuiFilledInput-underline-focused:before":{borderBottom:"1px solid red"}}})(x.a),Ce=function(e){var t=e.open,n=e.handleClose,r=Object(f.b)(),c=Object(i.g)(),o=(Object(f.c)((function(e){return e.authentication})).error,Object(a.useState)("")),s=Object(j.a)(o,2),l=s[0],b=s[1],p=Object(a.useState)(""),v=Object(j.a)(p,2),g=v[0],S=v[1];return Object(be.jsxs)(O.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(be.jsx)(h.a,{id:"form-dialog-title",children:"Iniciar sesi\xf3n"}),Object(be.jsx)(m.a,{children:Object(be.jsxs)("form",{children:[Object(be.jsx)(x.a,{autoFocus:!0,margin:"dense",id:"user",label:"Usuario",fullWidth:!0,onChange:function(e){b(e.target.value)}}),Object(be.jsx)(x.a,{margin:"dense",id:"password",label:"Contrase\xf1a",type:"password",fullWidth:!0,onChange:function(e){S(e.target.value)}})]})}),Object(be.jsxs)(k.a,{children:[Object(be.jsx)(N.a,{onClick:n,color:"primary",children:"Cancelar"}),Object(be.jsx)(N.a,{onClick:function(){r(function(e,t){return function(){var n=Object(d.a)(u.a.mark((function n(a){var r,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ue),n.prev=1,n.next=4,J()({method:"post",url:"http://localhost:3000/auth/signIn",data:e,headers:{Authorization:"Bearer ".concat(localStorage.getItem("USER-TOKEN"))}});case 4:r=n.sent,c=r.data.token,localStorage.setItem("USER-TOKEN",c),a(de(c)),t.push("/admin"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),a((o=n.t0,{type:ae,payload:o}));case 14:case"end":return n.stop()}var o}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()}({username:l,password:g},c))},color:"primary",type:"submit",children:"Aceptar"})]})]})},ye=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),s=Object(j.a)(o,2),i=s[0],l=s[1],b=Object(a.useState)(""),f=Object(j.a)(b,2),O=f[0],h=f[1],m=Object(a.useState)(""),x=Object(j.a)(m,2),v=x[0],g=x[1],S=Object(a.useState)(!1),C=Object(j.a)(S,2),y=C[0],k=C[1],w=Object(a.useState)(""),E=Object(j.a)(w,2),I=E[0],T=E[1],U=Object(a.useState)([]),A=Object(j.a)(U,2),P=A[0],R=A[1],F=Object(a.useState)({}),B=Object(j.a)(F,2),L=B[0],H=B[1],K=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),[]),D=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=6;break}return e.next=3,Z(I.id);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=[];case 7:return t=e.t0,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),[I]);Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:t=e.sent,T(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:t=e.sent,R(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[I]);var M=function(e){return Object(be.jsx)(ve.a,Object(Oe.a)({elevation:6,variant:"filled"},e))},G=function(e,t){"clickaway"!==t&&k(!1)},z=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee({name:O,time:v,timeStamp:p()(),ceremony:I.id});case 3:"success"===(t=e.sent).data.type&&setTimeout((function(){window.location.reload()}),2e3),H({message:t.data.message,severity:t.data.type}),k(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:"Reservations",children:[Object(be.jsx)(_.a,{className:"CeremonyName",variant:"h1",children:I.name}),Object(be.jsx)("div",{className:"TimeBox",children:i?Object(be.jsxs)(he.a,{className:"NameContainer",children:[Object(be.jsx)(_.a,{variant:"h3",children:"Complete su nombre y confirme"}),Object(be.jsx)(Se,{id:"name",label:"Nombre",variant:"filled",onChange:function(e){h(e.target.value)}}),Object(be.jsxs)(he.a,{className:"NameButtons",children:[Object(be.jsx)(N.a,{variant:"contained",onClick:function(){l(!1)},children:"Atras"}),Object(be.jsx)(N.a,{variant:"contained",className:"Confirm",onClick:z,children:"Confirmar"})]})]}):Object(be.jsxs)(be.Fragment,{children:[P&&P.message&&P.message.split(".").map((function(e){return Object(be.jsx)(_.a,{variant:"h3",children:e})})),P&&!P.message&&Object(be.jsxs)("div",{className:"TimeContainer",children:[Object(be.jsx)(_.a,{variant:"h3",children:"\xbfEn que horario usted desea participar?"}),Object(be.jsx)(he.a,{className:"Buttons",children:P.map((function(e,t){return Object(be.jsx)(ge,{disabled:!e.available,onClick:function(){!function(e){l(!0),g(e)}(e.time)},children:e.time},t)}))})]})]})}),Object(be.jsxs)("footer",{className:"Footer",children:[Object(be.jsx)("div",{style:{paddingInline:"10px"},children:"Subsede Liniers"}),Object(be.jsxs)("div",{style:{paddingInline:"10px"},children:[" ",Object(be.jsx)(me.a,{href:"#",onClick:function(){c(!0)},children:"Iniciar sesion"})," "]})]})]}),Object(be.jsx)(Ce,{open:r,handleClose:function(){c(!1)}}),Object(be.jsx)(xe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:y,autoHideDuration:3e3,onClose:G,children:Object(be.jsx)(M,{onClose:G,severity:L.severity,children:L.message})})]})},ke=n(234),Ne=function(e){var t=e.component,n=e.path,a=Object(ke.a)(e,["component","path"]),r=Object(f.c)((function(e){return e.authentication})).currentUser;return console.log(Object(f.c)((function(e){return e.authentication}))),null!==r?Object(be.jsx)(i.b,Object(Oe.a)({exact:!0,path:n,component:t},a)):Object(be.jsx)(i.a,{to:"/"})};Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://pl-reservations-ceremony.herokuapp.com/ceremony/"}).REACT_APP_BASE_URL;var we=function(){return Object(be.jsx)(be.Fragment,{children:Object(be.jsx)(s.a,{children:Object(be.jsxs)(i.d,{children:[Object(be.jsx)(Ne,{path:"/admin",children:Object(be.jsx)(fe,{})}),Object(be.jsx)(i.b,{path:"/",children:Object(be.jsx)(ye,{})})]})})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,470)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},Ie=n(61),Te=n(232),Ue=n(233),Ae=n.n(Ue),_e=function(e){var t=Ae.a.decode(e);return new Date(1e3*t.exp)>new Date?t:null},Pe={currentUser:localStorage.getItem("USER-TOKEN")?_e(localStorage.getItem("USER-TOKEN")):null,token:localStorage.getItem("USER-TOKEN")?localStorage.getItem("USER-TOKEN"):null,error:"",loading:!1,isAuthenticated:!1},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:case re:case se:return Object(Oe.a)(Object(Oe.a)({},e),{},{loading:!0,isAuthenticated:!1});case ae:case oe:case le:return Object(Oe.a)(Object(Oe.a)({},e),{},{loading:!1,error:t.payload,currentUser:null,isAuthenticated:!1});case ce:case ne:return Object(Oe.a)(Object(Oe.a)({},e),{},{loading:!1,token:t.payload.token,currentUser:t.payload.user,isAuthenticated:!0});case ie:return localStorage.removeItem("USER-TOKEN"),Object(Oe.a)(Object(Oe.a)({},e),{},{isAuthenticated:!1,loading:!1,currentUser:null,token:""});default:return Object(Oe.a)({},e)}},Fe=function(){return Object(Ie.c)({authentication:Re})},Be={authentication:{currentUser:localStorage.getItem("USER-TOKEN")?_e(localStorage.getItem("USER-TOKEN")):null,token:localStorage.getItem("USER-TOKEN"),error:"",loading:!1,isAuthenticated:!1}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=Ie.d,n=[Te.a],a=Object(Ie.e)(Fe(),e,t(Ie.a.apply(void 0,n)));return a}();o.a.render(Object(be.jsx)(f.a,{store:Le,children:Object(be.jsx)(r.a.StrictMode,{children:Object(be.jsx)(we,{})})}),document.getElementById("root")),Ee()}},[[404,1,2]]]);
//# sourceMappingURL=main.d1d44fed.chunk.js.map